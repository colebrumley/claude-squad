name: plan
prompt: PLAN_PROMPT_JSON
cases:
  - id: linear-dependencies
    description: "Tasks with linear dependency chain"
    input:
      spec: |
        # Tasks to plan
        Given these tasks:
        - task-1: Create database schema (no deps)
        - task-2: Create data models (depends on task-1)
        - task-3: Create API endpoints (depends on task-2)
        - task-4: Create frontend components (depends on task-3)

        Create an execution plan that maximizes parallelism.
    grade:
      criteria:
        - "Correctly identifies linear dependency chain"
        - "Creates 4 sequential groups"
        - "Provides clear reasoning"
      rubric: |
        5: Perfect linear plan with clear reasoning
        4: Correct plan with minor explanation issues
        3: Correct grouping but unclear reasoning
        2: Some incorrect groupings
        1: Completely incorrect plan

  - id: parallel-independent
    description: "Independent tasks that can run in parallel"
    input:
      spec: |
        # Tasks to plan
        Given these tasks:
        - task-1: Add login page (no deps)
        - task-2: Add signup page (no deps)
        - task-3: Add forgot password page (no deps)
        - task-4: Add profile page (no deps)

        Create an execution plan that maximizes parallelism.
    grade:
      criteria:
        - "Identifies all tasks as independent"
        - "Groups all tasks in single parallel group"
        - "Explains parallelization benefit"
      rubric: |
        5: Single parallel group with all tasks, good reasoning
        4: Correct grouping with minor issues
        3: Correct but could be more parallel
        2: Unnecessarily sequential
        1: Completely incorrect plan

  - id: mixed-dependencies
    description: "Mix of parallel and dependent tasks"
    input:
      spec: |
        # Tasks to plan
        Given these tasks:
        - task-1: Create User model (no deps)
        - task-2: Create Post model (no deps)
        - task-3: Create UserService (depends on task-1)
        - task-4: Create PostService (depends on task-2)
        - task-5: Create Feed feature (depends on task-3, task-4)

        Create an execution plan that maximizes parallelism.
    grade:
      criteria:
        - "Groups task-1 and task-2 together (parallel)"
        - "Groups task-3 and task-4 together (parallel)"
        - "Places task-5 in final group"
      rubric: |
        5: Optimal 3-group plan with parallelism
        4: Correct but suboptimal parallelism
        3: Correct dependencies but poor parallelism
        2: Some incorrect dependency ordering
        1: Completely incorrect plan
